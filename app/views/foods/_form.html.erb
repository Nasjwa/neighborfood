<%= simple_form_for(food, html: { multipart: true }) do |f| %>
  <%= f.error_notification %>

  <div class="nf-form-body">
    <!-- Basic info -->
    <%= f.input :title,
                required: true,
                label: "Title",
                placeholder: "Lasagna, apple pie, veggie curry..." %>

    <%= f.input :description,
                as: :text,
                label: "Description",
                input_html: { rows: 3 },
                placeholder: "Short description and anything neighbours should know." %>

    <!-- Kind & quantity side by side -->
    <div class="nf-form-row">
      <%= f.input :kind_of_food,
                  as: :select,
                  collection: Food.kind_of_foods.keys.map { |k| [k.humanize, k] },
                  prompt: "Select kind",
                  label: "Kind of food",
                  required: true %>

      <%= f.input :quantity,
                  label: "Quantity",
                  required: true,
                  hint: "Number of portions or items",
                  input_html: { min: 0, step: 1 } %>
    </div>

    <!-- Collection window -->
    <div class="nf-form-row">
      <%= f.input :start_time,
                  as: :string,
                  label: "Collection start",
                  input_html: { type: "datetime-local" } %>

      <%= f.input :end_time,
                  as: :string,
                  label: "Collection end",
                  input_html: { type: "datetime-local" } %>
    </div>

    <!-- Cooking / expiry dates â€“ compact HTML5 date inputs -->
    <div class="nf-form-row">
      <%= f.input :cooking_date,
                  as: :string,
                  label: "Cooking date",
                  input_html: { type: "date" } %>

      <%= f.input :expire_date,
                  as: :string,
                  label: "Expire date",
                  input_html: { type: "date" } %>
    </div>

    <!-- Tags (via food_tags join) -->
    <fieldset class="nf-form-group">
      <legend>Tags</legend>
      <div class="nf-form-checkbox-list">
        <%= f.collection_check_boxes :tag_ids, Tag.all, :id, :name do |tag_builder| %>
          <label>
            <%= tag_builder.check_box %>
            <%= tag_builder.text %>
          </label>
        <% end %>
      </div>
    </fieldset>

    <!-- Photos -->
    <div class="nf-form-group">
      <%= f.input :photos,
                  as: :file,
                  label: "Photos",
                  input_html: { multiple: true } %>
    </div>
  </div>

  <div class="nf-form-actions">
    <%= f.button :submit, "Post Food", class: "nf-btn nf-btn--primary" %>
    <%= link_to "Cancel", foods_path, class: "nf-btn nf-btn--ghost" %>
  </div>
<% end %>
