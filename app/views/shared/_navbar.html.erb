<nav class="nf-navbar" aria-label="Primary">
  <div class="nf-container">
    <!-- Brand -->
    <%= link_to root_path, class: "nf-brand" do %>
      <!-- inline placeholder logo (green leaf circle) -->
      <svg class="nf-logo" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 32 32" aria-hidden="true">
        <defs>
          <linearGradient id="nf-g" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0%" stop-color="#7CC96F"/>
            <stop offset="100%" stop-color="#2E7D32"/>
          </linearGradient>
        </defs>
        <circle cx="16" cy="16" r="14" fill="url(#nf-g)"/>
        <path d="M9 20c5-2 9-5 12-10" fill="none" stroke="#F0F9F0" stroke-width="2" stroke-linecap="round"/>
      </svg>
      <span class="nf-wordmark">NeighborFood</span>
    <% end %>

    <!-- Search (center) -->
    <%= form_with url: foods_path, method: :get, local: true, html: { class: "nav-search", role: "search" } do %>
      <%= text_field_tag :query,
            params[:query],
            class: "search-input",
            placeholder: "Type here to search...",
            aria: { label: "Search" }
        %>
      <%= submit_tag "Search", class: "nf-button border-0" %>
    <% end %>


    <!-- Mobile toggle -->
    <button class="nf-menu-toggle"
    <!-- Mobile toggle (NOTE: this is a sibling of the brand, not inside it) -->
    <button type="button"
            class="nf-menu-toggle"
            aria-expanded="false"
            aria-controls="nf-mainmenu"
            data-action="toggle-menu"
            title="Toggle menu">
      <span class="nf-burger"></span>
      <span class="sr-only">Menu</span>
    </button>

    <!-- Links -->
    <ul id="nf-mainmenu" class="nf-links" data-target="menu">
      <li><%= link_to "Home", root_path, class: "nf-link" %></li>
      <li><%= link_to "Browse", foods_path, class: "nf-link" %></li>

      <% if user_signed_in? %>
        <li class="nf-cta">
          <%= link_to "Post Food", new_food_path, class: "nf-button" %>
        </li>
        <li><%= link_to "My Listings", user_path(current_user), class: "nf-link" %></li>
        <li><%= link_to "Sign out", destroy_user_session_path, data: { turbo_method: :delete }, class: "nf-link" %></li>
      <% else %>
        <li><%= link_to "Sign in", new_user_session_path, class: "nf-link" %></li>
        <li class="nf-cta">
          <%= link_to "Sign up", new_user_registration_path, class: "nf-button nf-button--outline" %>
        </li>
      <% end %>
    </ul>
  </div>
</nav>
